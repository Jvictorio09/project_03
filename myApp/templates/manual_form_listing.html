{% extends 'base.html' %}
{% load static %}

{% block title %}Comprehensive Property Form - Real Estate OS{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
            </div>
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Comprehensive Property Form</h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                Fill out our detailed form to create a comprehensive property listing. Our system will guide you through all the important details.
            </p>
        </div>

        <!-- Form -->
        <div class="bg-white rounded-2xl shadow-lg p-8">
            <form method="post" enctype="multipart/form-data" class="space-y-8">
                {% csrf_token %}
                
                <!-- Basic Information Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-blue-600 font-bold text-sm">1</span>
                        </span>
                        Basic Property Information
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="title" class="block text-sm font-semibold text-gray-900 mb-2">
                                Property Title *
                            </label>
                            <input 
                                type="text" 
                                id="title" 
                                name="title" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Modern 3BR Downtown Condo with City Views"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="property_type" class="block text-sm font-semibold text-gray-900 mb-2">
                                Property Type *
                            </label>
                            <select 
                                id="property_type" 
                                name="property_type" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                required
                            >
                                <option value="">Select Property Type</option>
                                <option value="Single Family">Single Family</option>
                                <option value="Condo">Condo</option>
                                <option value="Townhouse">Townhouse</option>
                                <option value="Multi-family">Multi-family</option>
                                <option value="Commercial">Commercial</option>
                                <option value="Land">Land</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="price_amount" class="block text-sm font-semibold text-gray-900 mb-2">
                                Price ($) *
                            </label>
                            <input 
                                type="number" 
                                id="price_amount" 
                                name="price_amount" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="850000"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="listing_status" class="block text-sm font-semibold text-gray-900 mb-2">
                                Listing Status *
                            </label>
                            <select 
                                id="listing_status" 
                                name="listing_status" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                required
                            >
                                <option value="">Select Status</option>
                                <option value="Active">Active</option>
                                <option value="Pending">Pending</option>
                                <option value="Contingent">Contingent</option>
                                <option value="Sold">Sold</option>
                                <option value="Off-market">Off-market</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <label for="description" class="block text-sm font-semibold text-gray-900 mb-2">
                            Property Description *
                        </label>
                        <textarea 
                            id="description" 
                            name="description" 
                            rows="4" 
                            class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                            placeholder="Describe the property, its features, and what makes it special..."
                            required
                        ></textarea>
                    </div>
                </div>

                <!-- Location Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-green-600 font-bold text-sm">2</span>
                        </span>
                        Location Details
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="street_address" class="block text-sm font-semibold text-gray-900 mb-2">
                                Street Address *
                            </label>
                            <input 
                                type="text" 
                                id="street_address" 
                                name="street_address" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="123 Main Street"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="city" class="block text-sm font-semibold text-gray-900 mb-2">
                                City *
                            </label>
                            <select 
                                id="city" 
                                name="city" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                required
                            >
                                <option value="">Select City</option>
                                <option value="Los Angeles">Los Angeles</option>
                                <option value="New York">New York</option>
                                <option value="Chicago">Chicago</option>
                                <option value="Miami">Miami</option>
                                <option value="San Francisco">San Francisco</option>
                                <option value="Seattle">Seattle</option>
                                <option value="Boston">Boston</option>
                                <option value="Austin">Austin</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="state" class="block text-sm font-semibold text-gray-900 mb-2">
                                State *
                            </label>
                            <input 
                                type="text" 
                                id="state" 
                                name="state" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="CA"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="zip_code" class="block text-sm font-semibold text-gray-900 mb-2">
                                ZIP Code *
                            </label>
                            <input 
                                type="text" 
                                id="zip_code" 
                                name="zip_code" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="90210"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="area" class="block text-sm font-semibold text-gray-900 mb-2">
                                Area/Neighborhood
                            </label>
                            <input 
                                type="text" 
                                id="area" 
                                name="area" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Downtown, Hollywood, Manhattan"
                            >
                        </div>
                        
                        <div>
                            <label for="school_district" class="block text-sm font-semibold text-gray-900 mb-2">
                                School District
                            </label>
                            <input 
                                type="text" 
                                id="school_district" 
                                name="school_district" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Los Angeles Unified School District"
                            >
                        </div>
                    </div>
                </div>

                <!-- Property Details Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-purple-600 font-bold text-sm">3</span>
                        </span>
                        Property Details
                    </h2>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <label for="beds" class="block text-sm font-semibold text-gray-900 mb-2">
                                Bedrooms *
                            </label>
                            <input 
                                type="number" 
                                id="beds" 
                                name="beds" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="3"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="baths" class="block text-sm font-semibold text-gray-900 mb-2">
                                Bathrooms *
                            </label>
                            <input 
                                type="number" 
                                id="baths" 
                                name="baths" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="2"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="sqft" class="block text-sm font-semibold text-gray-900 mb-2">
                                Square Feet
                            </label>
                            <input 
                                type="number" 
                                id="sqft" 
                                name="sqft" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="1500"
                            >
                        </div>
                        
                        <div>
                            <label for="lot_size" class="block text-sm font-semibold text-gray-900 mb-2">
                                Lot Size (sq ft)
                            </label>
                            <input 
                                type="number" 
                                id="lot_size" 
                                name="lot_size" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="5000"
                            >
                        </div>
                        
                        <div>
                            <label for="year_built" class="block text-sm font-semibold text-gray-900 mb-2">
                                Year Built
                            </label>
                            <input 
                                type="number" 
                                id="year_built" 
                                name="year_built" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="2020"
                            >
                        </div>
                        
                        <div>
                            <label for="parking" class="block text-sm font-semibold text-gray-900 mb-2">
                                Parking Spaces
                            </label>
                            <input 
                                type="number" 
                                id="parking" 
                                name="parking" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="2"
                            >
                        </div>
                    </div>
                </div>

                <!-- Features & Amenities Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-orange-600 font-bold text-sm">4</span>
                        </span>
                        Features & Amenities
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="kitchen_features" class="block text-sm font-semibold text-gray-900 mb-2">
                                Kitchen Features
                            </label>
                            <textarea 
                                id="kitchen_features" 
                                name="kitchen_features" 
                                rows="3" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Granite countertops, stainless steel appliances, island..."
                            ></textarea>
                        </div>
                        
                        <div>
                            <label for="outdoor_features" class="block text-sm font-semibold text-gray-900 mb-2">
                                Outdoor Features
                            </label>
                            <textarea 
                                id="outdoor_features" 
                                name="outdoor_features" 
                                rows="3" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Private backyard, deck, pool, garden..."
                            ></textarea>
                        </div>
                        
                        <div>
                            <label for="amenities" class="block text-sm font-semibold text-gray-900 mb-2">
                                Community Amenities
                            </label>
                            <textarea 
                                id="amenities" 
                                name="amenities" 
                                rows="3" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Gym, pool, tennis courts, clubhouse..."
                            ></textarea>
                        </div>
                        
                        <div>
                            <label for="special_features" class="block text-sm font-semibold text-gray-900 mb-2">
                                Special Features
                            </label>
                            <textarea 
                                id="special_features" 
                                name="special_features" 
                                rows="3" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="e.g., Fireplace, hardwood floors, vaulted ceilings..."
                            ></textarea>
                        </div>
                    </div>
                </div>

                <!-- Financial Information Section -->
                <div class="border-b border-gray-200 pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-yellow-600 font-bold text-sm">5</span>
                        </span>
                        Financial Information
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="hoa_fees" class="block text-sm font-semibold text-gray-900 mb-2">
                                HOA Fees (monthly)
                            </label>
                            <input 
                                type="number" 
                                id="hoa_fees" 
                                name="hoa_fees" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="300"
                            >
                        </div>
                        
                        <div>
                            <label for="property_taxes" class="block text-sm font-semibold text-gray-900 mb-2">
                                Property Taxes (annual)
                            </label>
                            <input 
                                type="number" 
                                id="property_taxes" 
                                name="property_taxes" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="12000"
                            >
                        </div>
                        
                        <div>
                            <label for="utilities" class="block text-sm font-semibold text-gray-900 mb-2">
                                Average Utilities (monthly)
                            </label>
                            <input 
                                type="number" 
                                id="utilities" 
                                name="utilities" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="200"
                            >
                        </div>
                        
                        <div>
                            <label for="financing_options" class="block text-sm font-semibold text-gray-900 mb-2">
                                Financing Options
                            </label>
                            <select 
                                id="financing_options" 
                                name="financing_options" 
                                class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent"
                            >
                                <option value="">Select Financing</option>
                                <option value="Conventional">Conventional</option>
                                <option value="FHA">FHA</option>
                                <option value="VA">VA</option>
                                <option value="Cash Only">Cash Only</option>
                                <option value="Owner Financing">Owner Financing</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Media Section -->
                <div class="pb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                        <span class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3">
                            <span class="text-red-600 font-bold text-sm">6</span>
                        </span>
                        Property Photos
                    </h2>
                    
                    <div>
                        <label for="hero_image" class="block text-sm font-semibold text-gray-900 mb-3">
                            Main Property Photo *
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-green-400 transition-colors">
                            <div class="space-y-4">
                                <div class="mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center">
                                    <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <label for="hero_image" class="cursor-pointer">
                                        <span class="text-green-600 font-medium">Upload a file</span>
                                        <span class="text-gray-500">or drag and drop</span>
                                    </label>
                                    <input 
                                        type="file" 
                                        id="hero_image" 
                                        name="hero_image" 
                                        accept="image/*" 
                                        class="hidden"
                                        required
                                    >
                                </div>
                                <p class="text-sm text-gray-500">PNG, JPG, GIF up to 10MB</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="pt-6">
                    <button 
                        type="submit" 
                        class="w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 px-8 rounded-xl font-semibold text-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300 flex items-center justify-center space-x-3"
                    >
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <span>Create Comprehensive Listing</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
// File upload handling
document.getElementById('hero_image').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (file) {
        const fileName = file.name.length > 20 ? file.name.substring(0, 20) + '...' : file.name;
        const uploadArea = document.querySelector('.border-dashed');
        uploadArea.innerHTML = `
            <div class="space-y-2">
                <div class="mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <p class="text-green-600 font-medium">${fileName}</p>
                <p class="text-sm text-gray-500">Click to change</p>
            </div>
        `;
        uploadArea.classList.remove('border-gray-300');
        uploadArea.classList.add('border-green-400', 'bg-green-50');
    }
});
</script>
{% endblock %}
